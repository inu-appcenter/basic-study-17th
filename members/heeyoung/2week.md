# [app center] 2주차 - 데이터베이스

- MySQL 설치
    - https://velog.io/@cyseok123/MySQL-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%8B%A4%ED%96%89-for-Mac
    - 해당 블로그를 참고했다.

---

# 1.  데이터베이스 (Database, DB)

<aside>
💡

**체계적으로 구성된 데이터의 집합**이다. 데이터를 저장, 관리, 검색, 갱신, 삭제할 수 있는 기능을 제공

</aside>

데이터란 이 세상에 존재하는 모든 정보를 기리킨다. (카카오톡 메시지나, 버스/지하철에서 찍은 교통카드 기록, 카페에서 아이스 아메리카노를 구매한 정보 등) 이러한 **데이터를 저장하고 구조화하는 곳이 데이터베이스** 이다.

## 1) 데이터베이스가 중요한 이유

- **데이터의 구조화**
    
    데이터베이스는 테이블 형태로 데이터를 구조화한다. 각 테이블은 행렬로 이루어져 있다. 이 구조는 데이터의 관계를 나타내며, 데이터의 중복을 최소화하고 효율적으로 저장하고 검색할 수 있게 한다.
    

- **데이터의 일관성 및 무결성**
    
    무결성이란 데이터가 정확하고 일관되게 유지되는 것이다. 데이터베이스는 제약조건(constraints)를 설정해 데이터의 정합성을 유지한다.
    
- **데이터의 보안**
    
    데이터베이스는 데이터에 접근할 수 있는 사용자와 권한을 제어할 수 있다.
    
- **데이터의 추상화**
    
    데이터베이스는 데이터를 추상화해 응용 프로그램이 데이터를 다루기 쉽도록 한다. SQL을 사용해 데이터에 대한 작업을 수행할 수 있다.
    
- **데이터의 동시성**
    
    여러 사용자가 동시에 데이터에 접근할 수 있다.
    

## 2) 구성요소

| 용어 | 설명 |
| --- | --- |
| 데이터 | 정보의 집합, 텍스트/ 숫자/ 이미지 등 다양한 형식이 있다. |
| 스키마(Schema) | 데이터의 구조를 정의하는 것, 구조와 제약 조건을 정의한 설계도이다. 테이블, 컬럼, 관계 등이 포함된다. |
| 테이블(Table) | 테이블을 **행/열(레코드/속성)**로 구성된 표 형태로 저장하는 구조이다. ex) 고객 정보 저장하는 테이블 |
| 레코드(Record) | 테이블에서 한 행으로, **데이터의 실제 값을 포함**한다. ex) 이름, 주소, 연락처 등의 행 |
| 컬럼(Column) | 테이블에서 열로, **특정 속성의 데이터를 포함**한다. ex) 이름, 주소, 연락처 라는 속성 자체 |
| 관계(Relationship) | 테이블 간에 존재하는 연결 ex) 고객 테이블 - 주문 테이블이 고객 ID로 연결됨 |

---

# 2.  DBMS (Database Management System, 데이터베이스 관리 시스템)

<aside>
💡

DBMS 란 **데이터베이스에서 데이터를 추출, 조작, 정의, 제어 등을 할 수 있게 해주는 소프트웨어** 이다.

</aside>

## 1) 등장배경

1. 과거에는 데이터를 파일로 관리하였고, 이를 위해 **파일 시스템**을 사용하였다.
2. 파일 시스템은 통합되지 않아 프로그램마다 관리하였는데, 예를 들어 고객 관리 응용 프로그램/ 주문 관리 응용프로그램이 각각 고객 데이터 파일/ 주문 데이터 파일을 관리하였다.
3. 파일 시스템은 **데이터의 중복, 응용 프로그램이 데이터 파일에 종속적임 등의 문제점**이 있었다.
4. **DBMS 는 이러한 문제점을 해결하기 위해 제시된 시스템**이다. 데이터베이스라는 구조화된 형태로 데이터를 관리한다.

## 2) 종류

### 📌  계층형 데이터베이스 관리 시스템 (HDBMS)

- 폴더와 파일 등의 계층 구조로 데이터를 저장하는 방식
- 데이터의 관계를 트리 구조로 정의

### 📌  네트워크형 데이터베이스 관리 시스템 (NDBMS)

- 데이터 구조를 네트워크상의 노드 형태로 논리적이게 표현한 데이터 모델

### 📌  관계형 데이터베이스 관리 시스템 (RDBMS)

![image.png](%5Bapp%20center%5D%202%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%20-%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%201c6158a56065804bbba2e7fe7ff8f083/image.png)

- 행과 열을 가지는 표 형식 데이터를 저장하는 형태
- SQL 을 이용해 관리 및 접근

### 📌  객체지향 데이터베이스 관리 시스템 (ODBMS)

- 객체 그대로를 데이터베이스의 데이터에 저장하는 것 (클래스, 상속, 캡슐화 유지)

### 📌  NoSQL (Not Only SQL)

![image.png](%5Bapp%20center%5D%202%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%20-%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%201c6158a56065804bbba2e7fe7ff8f083/image%201.png)

- 키(key) - 값(value) 형태로 저장되는 데이터 베이스
- 키를 사용해 데이터 관리 및 접근
- 스키마와 같은 고정된 구조가 필요 없다. → 유연한 데이터 처리 가능

### Cf.  SQL vs NoSQL

데이터베이스는 크게 관계형 데이터베이스와 비관계형 데이터베이스로 구분한다. 

- **SQL** → 관계형 DB 를 다루는 언어
- **NoSQL** → 관계형 DB 가 아닌 DB 를 통칭하는 개념

|  | SQL (관계형 DB) | NoSQL (비관계형 DB) |
| --- | --- | --- |
| **데이터 구조** | 테이블(Table) 기반 (행·열 구조) | JSON, Key-Value, 컬럼, 그래프 등 |
| **스키마 (Schema)** | 고정된 스키마 (정해진 구조) | 유연한 스키마 (변경 가능) |
| **확장성** | **수직 확장 (Scale-Up)** | **수평 확장 (Scale-Out)** |
| **데이터 처리 속도** | 복잡한 쿼리에 강함 (JOIN 등) | 대량 데이터 빠른 처리 가능 |
| **사용 사례** | 금융, ERP, 전자상거래 등 | 소셜미디어, 빅데이터, IoT 등 |

### cf. 쿼리(Query) 란?

데이터베이스에서 데이터를 검색하거나 조작하기 위해 보내는 **요청**

정보를 처리하는 과정에서 query를 보내면 이에 따른 정보를 DB로부터 가져온다.

<aside>
💡

DB용 언어를 SQL이라고 하는데, query는 DB에서 원하는 조건에 맞는 데이터를 조작할 수 있는 SQL 문장의 집합을 말하며, **질의문**이라 한다.

</aside>

---

# 3.  SQL (Structured Query Language)

SQL 은 RDBMS 에서 데이터를 정의, 조회, 수정, 삭제하는 다양한 작업을 수행할 수 있는 표준 언어이다.

기능에 따라 여러 가지 명령어로 나뉘며 크게 4가지 종류가 있다.

### 📌  DDL (Data Definition Language) : 데이터 정의

- 테이블이나 데이터베이스의 구조를 정의하는 명령어
- `CREATE` : 테이블, 인덱스, 데이터베이스 등을 생성
- `ALTER` : 기존 데이터베이스 객체 수정
- `DROP` : 데이터베이스 객체 삭제

### 📌  DML (Data Manipulation Language) : 데이터 조작

- `SELECT` : 데이터 조회
- `INSERT` : 데이터 삽입
- `UPDATE` : 데이터 수정
- `DELETE` : 데이터 삭제

```sql
DROP TABLE 학생;

CREATE TABLE 학생 (
	id INT PRIMARY KEY,
  이름 VARCHAR(50),
  나이 INT
);

ALTER TABLE 학생 ADD 학년 INT;

INSERT INTO 학생 (id,이름,나이,학년) VALUES (1,'김희영',22,2);
INSERT INTO 학생 (id,이름,나이,학년) VALUES (4,'서보나',24,2);
INSERT INTO 학생 (id,이름,나이,학년) VALUES (2,'홍예원',24,4);
INSERT INTO 학생 (id,이름,나이,학년) VALUES (3,'윤유민',24,4);
INSERT INTO 학생 (id,이름,나이,학년) VALUES (5,'석수현',24,4);

UPDATE 학생 SET 나이 = 24 WHERE 이름 = '김희영';
UPDATE 학생
SET 학년 = 3
WHERE 이름 = '서보나';

SELECT 이름, 학년 FROM 학생 ORDER BY 이름;

*** 결과 
이름
김희영 2
서보나 3
석수현 4
윤유민 4
홍예원 4
```

### 📌  DCL (Data Control Language) : 데이터 권한 제어

- `GRANT` : 사용자에게 권한 부여
- `REVOKE` : 사용자로부터 권한 회수

```sql
-- 사용자에게 테이블 접근 권한 부여
GRANT SELECT, INSERT ON 학생 TO user1;

-- 접근 권한 회수
REVOKE INSERT ON 학생 FROM user1;
```

### 📌  TCL (Transaction Control Language) : 트랜잭션 관리

- `COMMIT` : 트랜잭션을 영구적으로 저장
- `ROLLBACK` : 트랜잭션 취소
- `SAVEPOINT` : 임시 저장

**cf. 트랜잭션이란?** 

데이터베이스의 상태를 변화시키기 위해 수행하는 작업의 단위

여러 개의 SQL 명령을 하나의 묶음으로 처리하는 것!

**→ DB 의 신뢰성과 안정성을 보장하기 위해 필요**

---

# 4.  ERD

<aside>
💡

Entity-Relationship Diagram 의 약자로, 데이터베이스의 구조를 시각적으로 나타내는 도구

</aside>

![image.png](%5Bapp%20center%5D%202%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%20-%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%201c6158a56065804bbba2e7fe7ff8f083/image%202.png)

개체 (Entity), 속성 (Attribute), 관계 (Relationship) 을 나타내는데, 각 요소는 DB 의 구조를 어떻게 조직할지 결정한다. 

### 연관관계를 ERD 로 표현

![image.png](%5Bapp%20center%5D%202%E1%84%8C%E1%85%AE%E1%84%8E%E1%85%A1%20-%20%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%E1%84%87%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3%201c6158a56065804bbba2e7fe7ff8f083/image%203.png)

|  | 예시 |
| --- | --- |
| 1:1  | 학생 : 신체정보 (한명의 학생이 하나의 신체정보를 가진다) |
| 1:N | 학생 : 취미 (한명의 학생이 여러개의 취미를 가질 수 있다) |
| N:M | 학생 : 동아리 (여러명의 학생이 여러개의 동아리에 가입 할 수 있다) |

**ex. 학생이 수업을 수강하는 관계**

- **개체**
    - 학생 → 학번, 이름, 나이
    - 수업 → 과목코드, 과목명
- **관계**
    - 학생은 수업을 수강한다. (n:m)